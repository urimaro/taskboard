<html>
	<head>
		<meta charset="utf-8">
		<link rel="stylesheet" href="style.css" type="text/css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/react/15.4.2/react-dom.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>
		<script type="text/babel">

		// リスト生成
		var TodoList = React.createClass({
			componentDidMount: function(){
				this.fetchData();
			},
			getInitialState: function(){
				return {
					datas: [
						{id: 1, title: "データ無し"}
					]
				};
			},
			fetchData: function(){
				fetch(this.props.dataPass)
				.then((response) => response.json())
				.then((responseData) => {
					console.log(responseData);
					this.setState({
						datas: responseData,
					});
				})
			},
			render: function() {
				var list =[];
				var data = this.state.datas;
				for(var i in data){
					list.push(<div>{data[i].title}</div>);
				}
				return (
					<div className="postit">
						{list}
					</div>
				);
			}
    });

		ReactDOM.render(<TodoList dataPass="todo"/>,document.getElementById('todo'));
		ReactDOM.render(<TodoList dataPass="doing"/>,document.getElementById('doing'));
		ReactDOM.render(<TodoList dataPass="done"/>,document.getElementById('done'));

		</script>
	</head>
	<body>
		<div class="swimlane">
			<h1>Todo</h1>
			<div id="todo"></div>
		</div>

		<div class="swimlane">
			<h1>Doing</h1>
			<div id="doing"></div>
		</div>

		<div class="swimlane">
			<h1>Done</h1>
			<div id="done"></div>
		</div>
	</body>
</html>
